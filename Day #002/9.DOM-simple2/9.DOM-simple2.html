<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissor Game</title>
        <link rel="stylesheet" href="9.DOM-simple2.css">
    </head>

    <body>
        
        <p class="rps-title">Rock Paper Scissor Game</p>

        <div class="rps-emoji">
            <button onclick="
            resultMove('rock');" class="btn">
                <img src="rock-emoji.png">
            </button>

            <button onclick="
                resultMove('paper');
                " class="btn">
                <img src="paper-emoji.png">
            </button>

            <button onclick="
                resultMove('scissor');
                " class="btn">
                <img src="scissor-emoji.png">
            </button>
        </div>

        <div class="reset">
            <button onclick="
            scoreObj.win=0;
            scoreObj.losses=0;
            scoreObj.tie=0
            localStorage.removeItem('scoreObj');
            updateScoreElement();
            document.querySelector('.js-result').innerHTML = '';
            document.querySelector('.js-moves').innerHTML ='';"
            class="reset-btn">
                Reset Score
            </button> 
        </div>

        
        
        <p class="js-result"></p>
        <p class="js-moves"></p>
        <p class="js-score"></p>

   </body>

    <script>

        let scoreObj=JSON.parse(localStorage.getItem('scoreObj')) || 
             {
                win: 0,
                losses: 0,
                tie: 0
            };

            updateScoreElement();

        function updateScoreElement (){
            document.querySelector('.js-score').innerHTML = `Win: ${scoreObj.win}  Losses: ${scoreObj.losses}  Tie: ${scoreObj.tie}`;   
        }

        function pickComputerMove(){
            const randomNumber =Math.random();
            let computerMove='';
            if(randomNumber>=0 && randomNumber<1/3){
                computerMove='rock';
            } else if(randomNumber>=1/3 && randomNumber<2/3){
                computerMove='paper';
            } else{
                computerMove='scissor';
            }
            return computerMove;
        }

        function resultMove(selectedMove){
            const computerMove = pickComputerMove();
            let result='';
                if(selectedMove === 'rock'){
                    if(computerMove=='rock'){
                        result='Tie';
                    } else if(computerMove=='paper'){
                        result='Lose';
                    } else{
                        result='Win';
                    }
                } else if(selectedMove === 'paper'){
                    if(computerMove=='rock'){
                        result='Win';
                    } else if(computerMove=='paper'){
                        result='Tie';
                    } else{
                        result='Lose';
                    }
                } else{
                    if(computerMove=='rock'){
                        result='Lose';
                    } else if(computerMove=='paper'){
                        result='Win';
                    } else{
                        result='Tie';
                    }
                }

               if(result === 'Win'){
                scoreObj.win+=1;
               } else if(result==='Lose'){
                scoreObj.losses+=1;
               } else{
                scoreObj.tie+=1;
               }

               localStorage.setItem('scoreObj',JSON.stringify(scoreObj));
               document.querySelector('.js-moves').innerHTML = `Your Move<img src="${selectedMove}-emoji.png">  <img src="${computerMove}-emoji.png">Computer Move`;
               document.querySelector('.js-result').innerHTML = `Result : ${result}`
               updateScoreElement();
        }
    </script>
</html>

