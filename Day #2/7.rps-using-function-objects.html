<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissor Game</title>
        <style>
            .rps{
                display: flex;
                justify-content: center;
            }
        </style>
    </head>

    <body>
        
        <p style="text-align: center;
        font-weight: bold;">Rock Paper Scissor Game</p>

        <div class="rps">

            <button onclick="
            resultMove('rock');
                ">
                Rock
            </button>

                <button onclick="
                resultMove('paper');
                ">
                Paper
            </button>

                <button onclick="
                resultMove('scissor');
                ">
                Scissor
            </button>

            <button onclick="
            scoreObj.win=0;
            scoreObj.losses=0;
            scoreObj.tie=0
            localStorage.removeItem('scoreObj');
            console.log(alert(`Score Reset!!\nWin: ${scoreObj.win}  Losses: ${scoreObj.losses}  Tie: ${scoreObj.tie}`))">
                Reset Button
            </button>

        </div>
    </body>

    <script>

        // let scoreObj=JSON.parse(localStorage.getItem('scoreObj'));

        // if(!scoreObj){  //scoreObj === null)
        //         scoreObj={
        //         win: 0,
        //         losses: 0,
        //         tie: 0
        //     };
        // }

        let scoreObj=JSON.parse(localStorage.getItem('scoreObj')) || 
             {
                win: 0,
                losses: 0,
                tie: 0
            };


        function pickComputerMove(){
            const randomNumber =Math.random();
            let computerMove='';
            if(randomNumber>=0 && randomNumber<1/3){
                computerMove='rock';
            } else if(randomNumber>=1/3 && randomNumber<2/3){
                computerMove='paper';
            } else{
                computerMove='scissor';
            }
            return computerMove;
        }

        function resultMove(selectedMove){
            const computerMove = pickComputerMove();
            let result='';
                if(selectedMove === 'rock'){
                    if(computerMove=='rock'){
                        result='Tie';
                    } else if(computerMove=='paper'){
                        result='Lose';
                    } else{
                        result='Win';
                    }
                } else if(selectedMove === 'paper'){
                    if(computerMove=='rock'){
                        result='Win';
                    } else if(computerMove=='paper'){
                        result='Tie';
                    } else{
                        result='Lose';
                    }
                } else{
                    if(computerMove=='rock'){
                        result='Lose';
                    } else if(computerMove=='paper'){
                        result='Win';
                    } else{
                        result='Tie';
                    }
                }

               if(result === 'Win'){
                scoreObj.win+=1;
               } else if(result==='Lose'){
                scoreObj.losses+=1;
               } else{
                scoreObj.tie+=1;
               }

               localStorage.setItem('scoreObj',JSON.stringify(scoreObj));

            console.log(alert(`You chose ${selectedMove} \nComputer chose ${computerMove} \n\n Result: ${result}!! \n\nScore:\nWin: ${scoreObj.win}  Losses: ${scoreObj.losses}  Tie: ${scoreObj.tie}`));
        }
    </script>
</html>